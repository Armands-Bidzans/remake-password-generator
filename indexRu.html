<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Мгновенно генерируйте надежные и безопасные пароли. Настройте длину, специальные символы и цифры. Функция копирования в один клик.">
  <meta name="keywords" content="генератор паролей, безопасный пароль, онлайн генератор паролей">
  <link rel="stylesheet" href="styles.css" async>
  <title>Генератор Безопасных Паролей</title>
  <style>
    .icon-moon.active {
        transform: scale(0.95);
        filter: brightness(0.8);
    }
    .icon-moon {
        transition: transform 0.1s ease, filter 0.1s ease;
    }
  </style>
</head>
<body>
  <nav class="navbar" aria-label="Основная навигация" style="margin-bottom: 1rem;">
    <a class="nav-item" href="aboutpass RU.html" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
      <span>О Паролях</span>
    </a>
    <a class="nav-item" href="timer RU.html" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
      <span>Таймер</span>
    </a>
    <div class="nav-item">
      <a href="indexRu.html" aria-label="Русская версия" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="russian.svg" width="50" height="30" alt="Российский флаг" loading="lazy">
      </a>
      <a href="index.html" aria-label="Английская версия" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="american.svg" width="50" height="30" alt="Американский флаг" loading="lazy">
      </a>
      <a href="indexLV.html" aria-label="Латвийская версия" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="latvian.svg" width="50" height="30" alt="Латвийский флаг" loading="lazy">
      </a>
    </div>
  </nav>

  <div class="container" role="main" style="margin-top: 0; padding-top: 0;">
    <h1 style="text-align: center; margin: 1rem 0 2rem; font-size: 2rem;">
      <i class="icon-lock"></i>
      Сгенерируйте надежные и безопасные пароли для защиты вашей учетной записи. <i class="icon-lock"></i>
    </h1>

    <p style="text-align: center;">Какой длины должен быть ваш пароль?</p>

    <button class="icon-moon"
            tabindex="0"
            onclick="toggleDarkMode()"
            onkeydown="handleThemeKeyDown(event)"
            onkeyup="handleThemeKeyUp(event)"
            aria-label="Переключить темный режим">
    </button>

    <form role="form">
      <label for="length" class="visually-hidden">Длина пароля</label>
      <input type="text"
             id="length"
             name="length"
             placeholder="Введите длину пароля (6-∞ символов)"
             tabindex="0"
             aria-label="Введите длину пароля">
    </form>

    <div class="checkbox-group">
      <label class="checkbox style-e">
        <input type="checkbox"
               id="special"
               checked
               tabindex="0"
               onkeyup="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <span>Использовать специальные символы</span>
        <div class="checkbox__checkmark"></div>
      </label>

      <label class="checkbox style-e">
        <input type="checkbox"
               id="number"
               checked
               tabindex="0"
               onkeyup="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <span>Использовать цифры</span>
        <div class="checkbox__checkmark"></div>
      </label>
    </div>

    <label for="password" class="visually-hidden">Сгенерированный пароль</label>
    <input type="text"
           id="password"
           name="password"
           readonly
           tabindex="0"
           aria-label="Сгенерированный пароль">

    <div class="button-group">
      <div class="button"
           role="button"
           tabindex="0"
           onclick="generatePassword()"
           onkeydown="if(event.key === 'Enter' || event.key === ' ') generatePassword()"
           aria-label="Сгенерировать пароль">
        <i class="icon-arrows-cw"></i>
        <span class="tooltip-text">Сгенерировать пароль</span>
      </div>

      <div class="button"
           role="button"
           tabindex="0"
           onclick="copyPassword()"
           onkeydown="if(event.key === 'Enter' || event.key === ' ') copyPassword()"
           aria-label="Скопировать пароль">
        <i class="icon-clipboard"></i>
        <span class="tooltip-text">Скопировать пароль</span>
      </div>
    </div>
  </div>

  <script>
    let isThemeKeyPressed = false;

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function handleThemeKeyDown(event) {
      // Обрабатываем только Enter и Space
      if (event.key === 'Enter' || event.key === ' ') {
        // Предотвращаем стандартное действие браузера (прокрутка для Space, отправка формы для Enter в некоторых случаях)
        event.preventDefault();
        if (!isThemeKeyPressed) {
          isThemeKeyPressed = true;
          event.target.classList.add('active');
        }
      }
    }

    function handleThemeKeyUp(event) {
      if ((event.key === 'Enter' || event.key === ' ') && isThemeKeyPressed) {
         // Предотвращаем стандартное действие браузера (на всякий случай, хотя в keydown уже есть)
        event.preventDefault();
        toggleDarkMode(); // Выполняем действие при отпускании
        isThemeKeyPressed = false;
        event.target.classList.remove('active');
      }
    }


  </script>
  <script src="script.js" async></script>
</body>
</html>