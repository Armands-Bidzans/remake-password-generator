<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nekavējoties ģenerējiet spēcīgas un drošas paroles. Pielāgojiet garumu, speciālos simbolus un ciparus. Viena klikšķa kopēšanas funkcija.">
  <meta name="keywords" content="paroles ģenerators, droša parole, tiešsaistes paroles veidotājs">
  <link rel="stylesheet" href="styles.css" async>
  <title>Drošu Paroļu Ģenerators</title>
  <style>
    .icon-moon.active {
        transform: scale(0.95);
        filter: brightness(0.8);
    }
    .icon-moon {
        transition: transform 0.1s ease, filter 0.1s ease;
    }
  </style>
</head>
<body>
  <nav class="navbar" aria-label="Galvenā navigācija" style="margin-bottom: 1rem;">
    <a class="nav-item" href="aboutpass LV.html" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
      <span>Paroles</span>
    </a>
    <a class="nav-item" href="timer LV.html" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
      <span>Taimeris</span>
    </a>
    <div class="nav-item">
      <a href="indexRu.html" aria-label="Krievu versija" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="russian.svg" width="50" height="30" alt="Krievijas karogs" loading="lazy">
      </a>
      <a href="index.html" aria-label="Angļu versija" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="american.svg" width="50" height="30" alt="Amerikas karogs" loading="lazy">
      </a>
      <a href="indexLV.html" aria-label="Latviešu versija" tabindex="0" onkeydown="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <img src="latvian.svg" width="50" height="30" alt="Latvijas karogs" loading="lazy">
      </a>
    </div>
  </nav>

  <div class="container" role="main" style="margin-top: 0; padding-top: 0;">
    <h1 style="text-align: center; margin: 1rem 0 2rem; font-size: 2rem;">
      <i class="icon-lock"></i>
      Ģenerējiet spēcīgas un drošas paroles, lai aizsargātu savu kontu. <i class="icon-lock"></i>
    </h1>

    <p style="text-align: center;">Cik garam jābūt jūsu parolei?</p>

    <button class="icon-moon"
            tabindex="0"
            onclick="toggleDarkMode()"
            onkeydown="handleThemeKeyDown(event)"
            onkeyup="handleThemeKeyUp(event)"
            aria-label="Pārslēgt tumšo režīmu">
    </button>

    <form role="form">
      <label for="length" class="visually-hidden">Paroles garums</label>
      <input type="text"
             id="length"
             name="length"
             placeholder="Ievadiet paroles garumu (6-∞ simboli)"
             tabindex="0"
             aria-label="Ievadiet paroles garumu">
    </form>

    <div class="checkbox-group">
      <label class="checkbox style-e">
        <input type="checkbox"
               id="special"
               checked
               tabindex="0"
               onkeyup="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <span>Izmantot speciālos simbolus</span>
        <div class="checkbox__checkmark"></div>
      </label>

      <label class="checkbox style-e">
        <input type="checkbox"
               id="number"
               checked
               tabindex="0"
               onkeyup="if(event.key === 'Enter' || event.key === ' ') this.click()">
        <span>Izmantot ciparus</span>
        <div class="checkbox__checkmark"></div>
      </label>
    </div>

    <label for="password" class="visually-hidden">Ģenerētā parole</label>
    <input type="text"
           id="password"
           name="password"
           readonly
           tabindex="0"
           aria-label="Ģenerētā parole">

    <div class="button-group">
      <div class="button"
           role="button"
           tabindex="0"
           onclick="generatePassword()"
           onkeydown="if(event.key === 'Enter' || event.key === ' ') generatePassword()"
           aria-label="Ģenerēt paroli">
        <i class="icon-arrows-cw"></i>
        <span class="tooltip-text">Ģenerēt paroli</span>
      </div>

      <div class="button"
           role="button"
           tabindex="0"
           onclick="copyPassword()"
           onkeydown="if(event.key === 'Enter' || event.key === ' ') copyPassword()"
           aria-label="Kopēt paroli">
        <i class="icon-clipboard"></i>
        <span class="tooltip-text">Kopēt paroli</span>
      </div>
    </div>
  </div>

  <script>
    let isThemeKeyPressed = false;

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function handleThemeKeyDown(event) {
      // Обрабатываем только Enter и Space
      if (event.key === 'Enter' || event.key === ' ') {
        // Предотвращаем стандартное действие браузера (прокрутка для Space, отправка формы для Enter в некоторых случаях)
        event.preventDefault();
        if (!isThemeKeyPressed) {
          isThemeKeyPressed = true;
          event.target.classList.add('active');
        }
      }
    }

    function handleThemeKeyUp(event) {
      if ((event.key === 'Enter' || event.key === ' ') && isThemeKeyPressed) {
         // Предотвращаем стандартное действие браузера (на всякий случай, хотя в keydown уже есть)
        event.preventDefault();
        toggleDarkMode(); // Выполняем действие при отпускании
        isThemeKeyPressed = false;
        event.target.classList.remove('active');
      }
    }


  </script>
  <script src="script.js" async></script>
</body>
</html>